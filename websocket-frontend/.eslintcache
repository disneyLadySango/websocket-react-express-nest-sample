[{"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/App.tsx":"1","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/reportWebVitals.ts":"2","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/compontns/Header/index.tsx":"3","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/compontns/Header/Header.tsx":"4","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/index.tsx":"5","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/utils/logger.ts":"6","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/SimpleSocketPage/SimpleSocketPage.tsx":"7","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/SimpleSocketPage/hooks.ts":"8","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/TopPage/TopPage.tsx":"9","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/compontns/CreateModal/CreateModalPresenter.tsx":"10","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/hooks/useWebSocket.ts":"11","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/RoomListPage/RoomListPage.tsx":"12","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/RoomListPage/hooks.ts":"13","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/RoomListPage/RoomListPagePresenter.tsx":"14","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/TopPage/TopPagePresenter.tsx":"15","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/compontns/CreateModal/CreateModal.tsx":"16","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/RoomListPage/index.tsx":"17","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/RoomPage/RoomPage.tsx":"18","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/RoomPage/hooks.ts":"19","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/compontns/UserCreate/UserCreatePresenter.tsx":"20","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/compontns/UserCreate/UserCreate.tsx":"21","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/RoomPage/RoomPagePresenter.tsx":"22"},{"size":898,"mtime":1612691225507,"results":"23","hashOfConfig":"24"},{"size":425,"mtime":1611833169756,"results":"25","hashOfConfig":"24"},{"size":36,"mtime":1612619383529,"results":"26","hashOfConfig":"24"},{"size":289,"mtime":1611837754284,"results":"27","hashOfConfig":"24"},{"size":501,"mtime":1612619418823,"results":"28","hashOfConfig":"24"},{"size":630,"mtime":1612630221024,"results":"29","hashOfConfig":"24"},{"size":826,"mtime":1612625341871,"results":"30","hashOfConfig":"24"},{"size":4023,"mtime":1612619660518,"results":"31","hashOfConfig":"24"},{"size":528,"mtime":1612619328574,"results":"32","hashOfConfig":"24"},{"size":2236,"mtime":1612629161194,"results":"33","hashOfConfig":"24"},{"size":2462,"mtime":1612688596744,"results":"34","hashOfConfig":"24"},{"size":1613,"mtime":1612678114635,"results":"35","hashOfConfig":"24"},{"size":2493,"mtime":1612630258436,"results":"36","hashOfConfig":"24"},{"size":2508,"mtime":1612679730996,"results":"37","hashOfConfig":"24"},{"size":498,"mtime":1612619327401,"results":"38","hashOfConfig":"24"},{"size":1127,"mtime":1612630272513,"results":"39","hashOfConfig":"24"},{"size":42,"mtime":1612627114311,"results":"40","hashOfConfig":"24"},{"size":3002,"mtime":1612691015071,"results":"41","hashOfConfig":"24"},{"size":3979,"mtime":1612690896275,"results":"42","hashOfConfig":"24"},{"size":1660,"mtime":1612677508686,"results":"43","hashOfConfig":"24"},{"size":552,"mtime":1612677734691,"results":"44","hashOfConfig":"24"},{"size":5680,"mtime":1612691981761,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"176hfn2",{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"62"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"57"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/App.tsx",[],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/reportWebVitals.ts",[],["95","96"],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/compontns/Header/index.tsx",[],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/compontns/Header/Header.tsx",[],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/index.tsx",[],["97","98"],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/utils/logger.ts",[],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/SimpleSocketPage/SimpleSocketPage.tsx",[],["99","100"],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/SimpleSocketPage/hooks.ts",["101"],"import { useState, useRef, useEffect } from 'react';\nimport axios, { AxiosResponse } from 'axios';\n\nimport useWebSocket from 'src/hooks/useWebSocket';\nimport Logger from 'src/utils/logger';\n\ntype ApiResponse = {\n  message: string;\n};\n\nexport const useSimpleFetchAndWebScoket = () => {\n  const logger = useRef<Logger>(new Logger('useSimpleFetchAndWebScoket'));\n  // 表示のState\n  // 入力した文字列\n  const [inputValue, setInputValue] = useState<string>('');\n  // APIリクエストのレスポンス\n  const [apiMessage, setApiMessage] = useState<string>('');\n  // ソケット側で通知がきた回数\n  const [socketCount, setSocketCount] = useState<number>(0);\n  // ソケット側で通知がきたメッセージ\n  const [scoketMessage, setSocketMessage] = useState<string>('');\n  // コネクションID\n  const [connectionId, setConnectionId] = useState<string>('');\n\n  // WebScoketのクライアントオブジェクト\n  const onConnect = () => {\n    const id = socket.current?.id || '';\n    setConnectionId(id);\n  };\n  const onConnectError = () => {\n    const id = socket.current?.id || '';\n    setConnectionId(id);\n  };\n  const onDisconnect = () => {\n    setSocketCount(0);\n    setSocketMessage('');\n    // 切れた場合はundefinedが設定される\n    const id = socket.current?.id || '';\n    setConnectionId(id);\n  };\n\n  const { socket, errorCount, status } = useWebSocket(\n    'ws://localhost:9000/simple',\n    {\n      onConnect,\n      onConnectError,\n      onDisconnect,\n    }\n  );\n  // コールバック登録\n  useEffect(() => {\n    logger.current.debug('[useEffect]');\n    // 通知を受信する\n    socket.current?.on('message', (message: string) => {\n      logger.current.debug(`[websocket message]`, message);\n      setSocketCount((prevCount) => prevCount + 1);\n      setSocketMessage(message);\n      const id = socket.current?.id || '';\n      setConnectionId(id);\n    });\n    socket.current?.on('send', (message: string) => {\n      logger.current.debug(`[websocket send]`, message);\n      setSocketCount((prevCount) => prevCount + 1);\n      setSocketMessage(message);\n      const id = socket.current?.id || '';\n      setConnectionId(id);\n    });\n  }, []);\n\n  // action\n  // inputの入力を受け取る\n  const onChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\n    logger.current.debug('[onChange]', event);\n    setInputValue(event.target.value);\n  };\n  // APIリクエスト\n  const onClickFetch = async (event: React.MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n    logger.current.debug('[onClickFetch]', event);\n    const response: AxiosResponse<ApiResponse> = await axios.get(\n      `http://localhost:9000/simple`,\n      {\n        params: {\n          message: inputValue,\n        },\n      }\n    );\n    logger.current.debug('[onClickFetch]-response', response);\n    setApiMessage(response.data?.message);\n    socket.current?.disconnected && socket.current?.connect();\n  };\n  // コネクション切断\n  const onClickConnection = (event: React.MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n    logger.current.debug('[onClickConnection]', event);\n\n    if (socket.current?.connected) {\n      logger.current.debug('[onClickConnection]-disconnect');\n      socket.current?.disconnect();\n    } else {\n      logger.current.debug('[onClickConnection]-connect');\n      socket.current?.connect();\n    }\n  };\n  // WebSocketを使ってメッセージをサーバに送る\n  const onClickSender = (event: React.MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n    logger.current.debug('[onClickSender]', event);\n    if (socket.current?.disconnected) {\n      socket.current?.connect();\n    }\n    socket.current?.emit('send', inputValue);\n  };\n\n  const states = {\n    inputValue,\n    apiMessage,\n    socketCount,\n    scoketMessage,\n    status,\n    connectionId,\n    errorCount,\n  };\n  const actions = {\n    onChange,\n    onClickFetch,\n    onClickConnection,\n    onClickSender,\n  };\n  return [states, actions] as const;\n};\n","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/TopPage/TopPage.tsx",[],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/compontns/CreateModal/CreateModalPresenter.tsx",[],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/hooks/useWebSocket.ts",["102"],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/RoomListPage/RoomListPage.tsx",[],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/RoomListPage/hooks.ts",["103","104","105"],"import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport axios from 'axios';\n\nimport Logger from 'src/utils/logger';\nimport * as ModelTypes from 'src/types/model';\n\nexport const useRoomList = () => {\n  const logger = useRef<Logger>(new Logger('useRoomList'));\n\n  const [roomList, setRoomList] = useState<ModelTypes.Room[]>([]);\n\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n  const [name, setName] = useState<string>('');\n  const [description, setDescription] = useState<string>('');\n\n  useEffect(() => {\n    logger.current.debug('useEffect');\n    const fetchRoomList = async () => {\n      logger.current.debug('[fetchRoomList]');\n      const result = await axios.get<{ rooms: ModelTypes.Room[] }>(\n        'http://localhost:9000/room'\n      );\n      logger.current.info('[fetchRoomList]-result', result);\n      setRoomList(result.data.rooms);\n    };\n    fetchRoomList();\n  }, []);\n\n  const onChangeName = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>): void => {\n      event.preventDefault();\n      logger.current.debug('[onChangeName]', event);\n      setName(event.target.value);\n    },\n    [name]\n  );\n\n  const onChangeDescription = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>): void => {\n      event.preventDefault();\n      logger.current.debug('[onChangeDescription]', event);\n      setDescription(event.target.value);\n    },\n    [description]\n  );\n\n  const onOpen = useCallback((): void => {\n    logger.current.debug('[onOpen]');\n    setIsOpen(true);\n  }, []);\n\n  const onClose = useCallback((): void => {\n    logger.current.debug('[onClose]');\n    setIsOpen(false);\n    setName('');\n    setDescription('');\n  }, []);\n\n  const onSubmit = useCallback(\n    async (event: React.FormEvent<HTMLButtonElement>): Promise<void> => {\n      event.preventDefault();\n      logger.current.debug('[onSubmit]', event);\n      const requestParam = {\n        name,\n        description,\n      };\n      const result = await axios.post<{ rooms: ModelTypes.Room[] }>(\n        'http://localhost:9000/room',\n        {\n          ...requestParam,\n        }\n      );\n      logger.current.info('[onSubmit]-result', result);\n      setRoomList(result.data.rooms);\n      onClose();\n    },\n    [name, description, isOpen]\n  );\n\n  const states = {\n    roomList,\n    isOpen,\n    name,\n    description,\n  };\n  const actions = {\n    onChangeName,\n    onChangeDescription,\n    onOpen,\n    onClose,\n    onSubmit,\n  };\n\n  return [states, actions] as const;\n};\n","/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/RoomListPage/RoomListPagePresenter.tsx",[],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/TopPage/TopPagePresenter.tsx",[],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/compontns/CreateModal/CreateModal.tsx",[],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/RoomListPage/index.tsx",[],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/RoomPage/RoomPage.tsx",[],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/RoomPage/hooks.ts",["106","107","108","109","110","111","112"],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/compontns/UserCreate/UserCreatePresenter.tsx",[],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/compontns/UserCreate/UserCreate.tsx",[],"/Users/wayamayu/mySample/websocket-nest-react-sample/websocket-frontend/src/container/RoomPage/RoomPagePresenter.tsx",[],{"ruleId":"113","replacedBy":"114"},{"ruleId":"115","replacedBy":"116"},{"ruleId":"113","replacedBy":"117"},{"ruleId":"115","replacedBy":"118"},{"ruleId":"113","replacedBy":"119"},{"ruleId":"115","replacedBy":"120"},{"ruleId":"121","severity":1,"message":"122","line":68,"column":6,"nodeType":"123","endLine":68,"endColumn":8,"suggestions":"124"},{"ruleId":"121","severity":1,"message":"125","line":66,"column":6,"nodeType":"123","endLine":66,"endColumn":8,"suggestions":"126"},{"ruleId":"121","severity":1,"message":"127","line":35,"column":5,"nodeType":"123","endLine":35,"endColumn":11,"suggestions":"128"},{"ruleId":"121","severity":1,"message":"129","line":44,"column":5,"nodeType":"123","endLine":44,"endColumn":18,"suggestions":"130"},{"ruleId":"121","severity":1,"message":"131","line":77,"column":5,"nodeType":"123","endLine":77,"endColumn":32,"suggestions":"132"},{"ruleId":"121","severity":1,"message":"133","line":61,"column":16,"nodeType":"134","endLine":61,"endColumn":23},{"ruleId":"121","severity":1,"message":"135","line":66,"column":6,"nodeType":"123","endLine":66,"endColumn":8,"suggestions":"136"},{"ruleId":"121","severity":1,"message":"127","line":73,"column":5,"nodeType":"123","endLine":73,"endColumn":11,"suggestions":"137"},{"ruleId":"121","severity":1,"message":"138","line":84,"column":5,"nodeType":"123","endLine":84,"endColumn":19,"suggestions":"139"},{"ruleId":"121","severity":1,"message":"140","line":92,"column":5,"nodeType":"123","endLine":92,"endColumn":14,"suggestions":"141"},{"ruleId":"121","severity":1,"message":"142","line":103,"column":5,"nodeType":"123","endLine":103,"endColumn":22,"suggestions":"143"},{"ruleId":"121","severity":1,"message":"144","line":122,"column":5,"nodeType":"123","endLine":122,"endColumn":7,"suggestions":"145"},"no-native-reassign",["146"],"no-negated-in-lhs",["147"],["146"],["147"],["146"],["147"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'socket'. Either include it or remove the dependency array.","ArrayExpression",["148"],"React Hook useEffect has missing dependencies: 'connectUrl', 'isUnmountDisconnect', 'reConnectCount', 'reConnectInterval', and 'socketEvent'. Either include them or remove the dependency array. If 'setErrorCount' needs the current value of 'reConnectCount', you can also switch to useReducer instead of useState and read 'reConnectCount' in the reducer.",["149"],"React Hook useCallback has an unnecessary dependency: 'name'. Either exclude it or remove the dependency array.",["150"],"React Hook useCallback has an unnecessary dependency: 'description'. Either exclude it or remove the dependency array.",["151"],"React Hook useCallback has a missing dependency: 'onClose'. Either include it or remove the dependency array.",["152"],"The ref value 'socket.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'socket.current' to a variable inside the effect, and use that variable in the cleanup function.","Identifier","React Hook useEffect has missing dependencies: 'socket' and 'uid'. Either include them or remove the dependency array. If 'setName' needs the current value of 'uid', you can also switch to useReducer instead of useState and read 'uid' in the reducer.",["153"],["154"],"React Hook useCallback has a missing dependency: 'uid'. Either include it or remove the dependency array.",["155"],"React Hook useCallback has an unnecessary dependency: 'message'. Either exclude it or remove the dependency array.",["156"],"React Hook useCallback has missing dependencies: 'socket' and 'uid'. Either include them or remove the dependency array.",["157"],"React Hook useCallback has missing dependencies: 'myUser' and 'uid'. Either include them or remove the dependency array.",["158"],"no-global-assign","no-unsafe-negation",{"desc":"159","fix":"160"},{"desc":"161","fix":"162"},{"desc":"163","fix":"164"},{"desc":"163","fix":"165"},{"desc":"166","fix":"167"},{"desc":"168","fix":"169"},{"desc":"163","fix":"170"},{"desc":"171","fix":"172"},{"desc":"163","fix":"173"},{"desc":"174","fix":"175"},{"desc":"176","fix":"177"},"Update the dependencies array to be: [socket]",{"range":"178","text":"179"},"Update the dependencies array to be: [connectUrl, isUnmountDisconnect, reConnectCount, reConnectInterval, socketEvent]",{"range":"180","text":"181"},"Update the dependencies array to be: []",{"range":"182","text":"183"},{"range":"184","text":"183"},"Update the dependencies array to be: [name, description, onClose]",{"range":"185","text":"186"},"Update the dependencies array to be: [socket, uid]",{"range":"187","text":"188"},{"range":"189","text":"183"},"Update the dependencies array to be: [uid, socket, name]",{"range":"190","text":"191"},{"range":"192","text":"183"},"Update the dependencies array to be: [message, myUser, socket, uid]",{"range":"193","text":"194"},"Update the dependencies array to be: [myUser, uid]",{"range":"195","text":"196"},[2000,2002],"[socket]",[2289,2291],"[connectUrl, isUnmountDisconnect, reConnectCount, reConnectInterval, socketEvent]",[1142,1148],"[]",[1401,1414],[2234,2261],"[name, description, onClose]",[2152,2154],"[socket, uid]",[2305,2311],[2546,2560],"[uid, socket, name]",[2722,2731],[3000,3017],"[message, myUser, socket, uid]",[3396,3398],"[myUser, uid]"]